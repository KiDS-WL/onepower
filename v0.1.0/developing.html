

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Developing OnePower &mdash; onepower 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=d45e8c67"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Authors" href="contributors.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            onepower
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Usage and Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributors.html">Authors</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Developing OnePower</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#branching-and-releasing">Branching and Releasing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#versioning">Versioning</a></li>
<li class="toctree-l3"><a class="reference internal" href="#branching">Branching</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">onepower</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Developing OnePower</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/developing.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="developing-onepower">
<h1>Developing OnePower<a class="headerlink" href="#developing-onepower" title="Link to this heading"></a></h1>
<p>If you’re interested in developing OnePower – welcome! You should first read
the guide to contributing. This page is about more technical details of how
OnePower is developed, and its philosophy.</p>
<section id="branching-and-releasing">
<h2>Branching and Releasing<a class="headerlink" href="#branching-and-releasing" title="Link to this heading"></a></h2>
<p>The aim is to make OnePowers’s releases as useful, comprehendible, and automatic
as possible. This section lays out explicitly how this works (mostly for the benefit of
the admin(s)).</p>
<section id="versioning">
<h3>Versioning<a class="headerlink" href="#versioning" title="Link to this heading"></a></h3>
<p>The first thing to mention is that we will try to use strict <a class="reference external" href="https://semver.org">semantic versioning</a>.
Thus the versions are <code class="docutils literal notranslate"><span class="pre">MAJOR.MINOR.PATCH</span></code>, with <code class="docutils literal notranslate"><span class="pre">MAJOR</span></code> including
API-breaking changes, <code class="docutils literal notranslate"><span class="pre">MINOR</span></code> including new features, and <code class="docutils literal notranslate"><span class="pre">PATCH</span></code> fixing bugs or
documentation etc. If you depend on onepower, you can set your dependency as
<code class="docutils literal notranslate"><span class="pre">onepower</span> <span class="pre">&gt;=</span> <span class="pre">X.Y</span> <span class="pre">&lt;</span> <span class="pre">X+1</span></code> and not worry that we’ll break your code with an update.</p>
<p>To mechanically handle versioning within the package, we use two methods that we make
to work together automatically. The “true” version of the package is set with
<a class="reference external" href="https://pypi.org/project/setuptools-scm/">setuptools-scm</a>. This stores the version
in the git tag. There are many benefits to this – one is that the version is unique
for every single change in the code, with commits on top of a release changing the
version. This means that versions accessed via <code class="docutils literal notranslate"><span class="pre">onepower.__version__</span></code> are unique and track
the exact code in the package (useful for reproducing results). To get the current
version from command line, simply do <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">--version</span></code> in the top-level
directory.</p>
</section>
<section id="branching">
<h3>Branching<a class="headerlink" href="#branching" title="Link to this heading"></a></h3>
<p>For branching, the plan is to use a very similar model to <a class="reference external" href="https://nvie.com/posts/a-successful-git-branching-model/">git-flow</a>.
That is, we will have a <code class="docutils literal notranslate"><span class="pre">dev</span></code> branch which acts as the current truth against which to develop,
and <code class="docutils literal notranslate"><span class="pre">main</span></code> essentially as a deployment branch.
I.e., the <code class="docutils literal notranslate"><span class="pre">dev</span></code> branch is where all features are merged (and some
non-urgent bugfixes). <code class="docutils literal notranslate"><span class="pre">main</span></code> is always production-ready, and corresponds
to a particular version on PyPI. Features should be branched from <code class="docutils literal notranslate"><span class="pre">dev</span></code>,
and merged back to <code class="docutils literal notranslate"><span class="pre">dev</span></code>. Hotfixes can be branched directly from <code class="docutils literal notranslate"><span class="pre">main</span></code>,
and merged back there directly, <em>as well as</em> back into <code class="docutils literal notranslate"><span class="pre">dev</span></code>.
<em>Breaking changes</em> must only be merged to <code class="docutils literal notranslate"><span class="pre">dev</span></code> when it has been decided that the next
version will be a major version. We do not do any long-term support of releases
(so can’t make hotfixes to <code class="docutils literal notranslate"><span class="pre">v2.x</span></code> when the latest version is <code class="docutils literal notranslate"><span class="pre">2.(x+1)</span></code>, or make a
new minor version in 2.x when the latest version is 3.x). We have set the default
branch to <code class="docutils literal notranslate"><span class="pre">dev</span></code> so that by default, branches are merged there. This is deemed best
for other developers (not maintainers/admins) to get involved, so the default thing is
usually right.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Why not a more simple workflow like Github flow? The simple answer is it just
doesn’t really make sense for a library with semantic versioning. You get into
trouble straight away if you want to merge a feature but don’t want to update
the version number yet (you want to merge multiple features into a nice release).
In practice, this happens quite a lot.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>OK then, why not just use <code class="docutils literal notranslate"><span class="pre">main</span></code> to accrue features and fixes until such
time we’re ready to release? The problem here is that if you’ve merged a few
features into main, but then realize a patch fix is required, there’s no
easy way to release that patch without releasing all the merged features, thus
updating the minor version of the code (which may not be desirable). You could
then just keep all features in their own branches until you’re ready to release,
but this is super annoying, and doesn’t give you the chance to see how they
interact.</p>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="contributors.html" class="btn btn-neutral float-left" title="Authors" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Andrej Dvornik.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>