Notes on code: 

halo_model_ingredients.py:

This section at the end of setup gives and error. Why is it written like this? 
check_mead = options.has_value(option_section, 'use_mead2020_corrections')


hod interface:

* HOD interface creates the exact same HOD for different z-bins.
Why do we make copies of it? Is it because we want to allow for an option where the HOD is different for each redshift? 
It should be different if the stellar mass range is different for each bin. But the output HOD is calculated over a range of redshifts. 

--> investigate this. 

This is what I expect to have as output: 1 HOD per defined stellar mass and redshift block. 
Each HOD will only depend on halo Mass. 
We have suffixes for each HOD, but then within each there is also redshift dependence which is not really used. 

Places where hod is read from the block:

add_and_upsample.py

First conflict:  File "/Users/masgari/Documents/CosmicShear/repos//halomodel_for_cosmosis/add_and_upsample.py", line 214, in execute
    hod_bins_red = block['hod' + suffix0_red + '_metadata', 'nbins']
                   ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

IMPORTANT!!!!

f_star definition doesn't match table 4 of hmcode2020 : 
fstar = ((2.01 - 0.30*theta_agn)*0.01 * 10.0**(z*(0.409 + 0.0224*theta_agn))) / (0.75 * (1.0+z)**(1.0/6.0))
the dinominator does not exist in the paper.

Next thing to check is IA. 

